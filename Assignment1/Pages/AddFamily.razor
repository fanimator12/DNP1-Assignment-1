@page "/AddFamily"
@using Assignment1.Models
@using Assignment1.Data
@inject IFamiliesService FamilyService
@inject NavigationManager NavigationManager

<h3>Add Family</h3>

<EditForm Model="@newFamilyItem" OnValidSubmit="@AddNewFamily">
    <DataAnnotationsValidator/>
    <ValidationSummary/>
    <div class="form-group">
        User Id:<br/>
        <InputNumber @bind-Value="newFamilyItem.UserId"/>
    </div>
    <div class="form-group">
        Title:<br/>
        <InputTextArea rows="4" @bind-Value="newFamilyItem.Title"/>
    </div>
    <p class="actions">
        <button class="btn btn-outline-dark" type="submit">Create</button>
    </p>
</EditForm>

@code {
    private Family newFamilyItem = new Family();

    private void AddNewFamily() {
        FamilyService.AddFamily(newFamilyItem);
        NavigationManager.NavigateTo("/Families");
    }

}